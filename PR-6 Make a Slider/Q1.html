<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Make a Slider</title>
    <link rel="stylesheet" href="./style.css">
</head>

<body>
    <h2 align="center">View User</h2>
    <div align="center" class="select">
        <select onchange="filterCity()" id="city">
            <option>--Select City--</option>
            <option value="surat">surat</option>
            <option value="vapi">vapi</option>             
            <option value="vadodara">Vadodara</option>
            <option value="rajkot">Rajkot</option>
        </select>
        <select onchange="filtersalary()" id="salary">
            <option>--Select Salary--</option>
            <option value="20000">20000</option>
            <option value="22000">22000</option>
            <option value="25000">25000</option>
            <option value="30000">30000</option>
        </select> 
        <select onchange="filterdeg()" id="degi">
            <option>--Select Designation--</option>
            <option value="senior">Senior</option>
            <option value="junior">Junior</option>
            <option value="tl">TL</option>
            <option value="manager">Manager</option>
        </select>
        <select onchange="filterdep()" id="dep">
            <option>--Select Department--</option>
            <option value="programming">Programming</option>
            <option value="ui/ux">ui/ux</option>
            <option value="bde">bde</option>
            <option value="webdesign">webdesign</option>
        </select>
        <input type="reset" value="Reset" name="Reset" class="reset" onclick="reset()">  
    </div><br>
    <div align="center">
        <div class="sumSalary">
            <h2 id="sum"></h2>
        </div>

    </div>
    <table border="1" cellpadding="15" align="center" class="table">
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Email</th>
                <th>Phone</th>
                <th>City</th>
                <th>Salary</th>
                <th>Degi.</th>
                <th>Dep.</th>
            </tr>
        </thead>
        <tbody id="users">

        </tbody>
    </table>
</body>

</html>

<script>

    const details = [
        {
            id: 1,
            name: "ashish",
            email: "ashu@gmail.com",
            phone: "1121212",
            city: "surat",
            salary: "20000",
            degi: "senior",
            dep: "programming",
        },
        {
            id: 2,
            name: "hari",
            email: "hari@gmail.com",
            phone: "5454545",
            city: "surat",
            salary: "22000",
            degi: "junior",
            dep: "ui/ux",

        },
        {
            id: 3,
            name: "raj",
            email: "raj@gmail.com",
            phone: "454545",
            city: "vadodara",
            salary: "25000",
            degi: "junior",
            dep: "bde",

        },
        {
            id: 4,
            name: "deep",
            email: "deep@gmail.com",
            phone: "565656",
            city: "vapi",
            salary: "30000",
            degi: "tl",
            dep: "webdesign",

        },
        {
            id: 5,
            name: "jay",
            email: "jay@gmail.com",
            phone: "5565656",
            city: "rajkot",
            salary: "20000",
            degi: "senior",
            dep: "programming",

        },
        {
            id: 6,
            name: "ajay",
            email: "ajay@gmail.com",
            phone: "5565656",
            city: "vapi",
            salary: "25000",
            degi: "manager",
            dep: "ui/ux",
        }

    ]

    let filterData = [];

    const viewRecord = (data) => {

        let tbl = "";
        if (data) {
            data.map((val, index) => {
                tbl += `
                        <tr>

                            <td>${val.id}</td>
                            <td>${val.name}</td>
                            <td>${val.email}</td>
                            <td>${val.phone}</td>
                            <td>${val.city}</td>
                            <td>${val.salary}</td>
                            <td>${val.degi}</td>
                            <td>${val.dep}</td>
                      <tr>`

            })
            filterData = tbl;
            document.getElementById("users").innerHTML = filterData;
        }
        else {
            details.map((val, index) => {
                tbl += `
                        <tr>

                            <td>${val.id}</td>
                            <td>${val.name}</td>
                            <td>${val.email}</td>
                            <td>${val.phone}</td>
                            <td>${val.city}</td>
                            <td>${val.salary}</td>
                            <td>${val.degi}</td>
                            <td>${val.dep}</td>
                        </tr>
                    `
            })
            filterData = tbl;
            document.getElementById("users").innerHTML = filterData;
        }

    }
    viewRecord();


    // salary sum :-

    let sum = 0

    let salary = details.map((val, i) => {
        sum = sum + Number(val.salary)
    })

    document.getElementById("sum").innerHTML = "Sum of All Salary :- " + sum;


    // city wise filter record
    const filterCity = () => {
        let city = document.getElementById('city').value;


        let record = details.filter((val) => {
            return val.city === city
        })
        viewRecord(record);

    }

    // salary wise filter record
    const filtersalary = () => {
        let salary = document.getElementById('salary').value;


        let record = details.filter((val) => {
            return val.salary === salary
        })
        viewRecord(record);

    }
    // designation wise filter record
    const filterdeg = () => {
        let degi = document.getElementById('degi').value;


        let record = details.filter((val) => {
            return val.degi === degi
        })
        viewRecord(record);

    }

    // department wise filter record
    const filterdep = () => {
        let dep = document.getElementById('dep').value;


        let record = details.filter((val) => {
            return val.dep === dep
        })
        viewRecord(record);

    }
    // reset function
    const reset = () => {

        let tbl = "";
        details.map((val, index) => {
            tbl += `
                        <tr>

                            <td>${val.id}</td>
                            <td>${val.name}</td>
                            <td>${val.email}</td>
                            <td>${val.phone}</td>
                            <td>${val.city}</td>
                            <td>${val.salary}</td>
                            <td>${val.degi}</td>
                            <td>${val.dep}</td>
                        </tr>
                    `
        });
        filterData = tbl;
        document.getElementById("users").innerHTML = tbl;

    }
</script>